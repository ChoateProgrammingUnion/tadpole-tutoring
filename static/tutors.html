<!DOCTYPE html>
<html lang="en">
<head>
    {{ header }}
    <script>
        $( document ).ready(function() {
            $( "#switch-tutor" ).click();
        });
    </script>
</head>
<body onload="brython()">
    <script type="text/python">
        from browser import document, alert
        import urllib.request
        import pickle
        import base64

        def echo(ev):
            value = document['switch-tutor-value'].text
            value = not bool(value)

            if value:
                document['switch-tutor-value'].text = "True"
                search_by_tutor()
            else:
                document['switch-tutor-value'].text = ""

        def search_by_tutor():
            alert("test")
            # URL = "api.tadpoletutoring.org"
            URL = "http://localhost:5000"
            response = urllib.request.urlopen(URL + "/api/teachers").read().rstrip()
            print("response", response)
            # response_dict = pickle.loads(codecs.decode(response.encode(), "base64"))
            response_decode = base64.b64decode(response.encode())
            print("b64", response_decode)
            response_dict = pickle.loads(response_decode)
            print(response_dict)

        document["clicky-slider"].bind("mouseup", echo)
    </script>
    <header style="padding-top: 0; padding-bottom: 0;">
    {{ navbar }}
    </header>
    <main>
        <div style="margin-left:80%" id="clicky-slider">
            <div style="display: inline-block">
            <span style="white-space: nowrap;">By Time</span>
            <label id="switch-tutor" class="switch">
                <input type="checkbox">
                <span class="slider round"></span> 
            </label> 
            <span style="white-space: nowrap;">By Tutor</span>
            <span id="switch-tutor-value" style="visibility:hidden">True</span>
            </div>
        </div>
        <section>

            <header>
                <h2>Our Tutors</h2>
                <p>Our team of tutors is small and tight-knit. Each tutor here is hand-picked to help ensure that you can learn well.</p>
            </header>
            <aside>
                <center>
                    <img alt="Profile Picture" src="https://github.com/identicons/jasonlong.png" height="150">
                    <h3>Andrew Shenouda</h3>
                </center>
                <p><b>Studies at:</b> Choate Rosemary Hall</p>
                <p>Bio content</p>
            </aside>
        </section>
    </main>
{{ footer }}
</body>

</html>
